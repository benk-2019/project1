<main>
    <article>
        <div class="left">
            <p class="title">Current Team:</p>
            @if(coach1.teamname){
                <p>{{coach1.teamname}}</p>
            }
            @else{
                <p>NA</p>
            }
            <p class="subtitle">Old Team's Current Composition:</p>
            <form>
                <label for="oldTeam.players"></label>
                <select name="oldTeam.players" id="oldTeam.players">
                    <option value="">Players...</option>
                    @for(player of oldTeam.players; track $index){
                        <option value="{{player.firstName}} {{player.lastName}}">{{player.firstName}} {{player.lastName}}</option>
                    }
                </select>

                <label for="oldTeam.coaches"></label>
                <select name="oldTeam.coaches" id="oldTeam.coaches">
                    <option value="">Coaches...</option>
                    @for(coach of oldTeam.coaches; track $index){
                        <option value="{{coach.firstName}} {{coach.lastName}}">{{coach.firstName}} {{coach.lastName}}</option>
                    }
                </select>
            </form>
            <p class="staticSection">Coach to Transfer: </p>
            <p>Name: {{coach1.firstName}} {{coach1.lastName}}</p>
            <p>Age: {{coach1.age}}</p>
            <p>Role In Current Team: {{coach1.role?coach1.role:'NA'}}</p>
        </div>


        <div class="right">
            <p class="title">New Team: </p>
            <form class="sudoP">
                <label for="selectedTeam.teamName"></label>
                <select name="selectedTeam.teamName" id="selectedTeam.teamName" [(ngModel)]="selectedTeam.teamName" (change)="getNewTeam()">
                    <option value="" selected="selected">Teams...</option>
                    @for(team of teamList; track $index){
                        @if(team.teamName !== oldTeam.teamName){
                            <option value="{{team.teamName}}">{{team.teamName}}</option>
                        }
                    }
                </select>
            </form>

            <p class="subtitle">New Team's Current Composition:</p>
            <form>
                <label for="newTeam.players"></label>
                <select name="newTeam.players" id="newTeam.players">
                    <option value="">Players...</option>
                    @for(player of newTeam.players; track $index){
                        <option value="{{player.firstName}} {{player.lastName}}">{{player.firstName}} {{player.lastName}}</option>
                    }
                </select>
        
                <label for="newTeam.coaches"></label>
                <select name="newTeam.coaches" id="newTeam.coaches">
                    <option value="">Coaches...</option>
                    @for(coach of newTeam.coaches; track $index){
                        <option value="{{coach.firstName}} {{coach.lastName}}">{{coach.firstName}} {{coach.lastName}}</option>
                    }
                </select>

                <p class="staticSection">Coach Post Transfer: </p>
                <p>Name: {{coach1.firstName}} {{coach1.lastName}}</p>
                <p>Age: {{coach1.age}}</p>
                <p>Role In New Team: {{newTeam.teamName?newTeam.headCoach?"Assistant":'Head':'NA'}}</p>
            </form>
        </div>
    </article>

    <div class="buttonBlock">
        <button (click)="changeTeam()">Confirm Transfer</button>
    </div>
</main>
